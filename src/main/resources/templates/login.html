<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>M&eacute;dico</title>
  <link rel="icon" type="image/png" href="dist/img/apple-icon-60x60.png">
  <!-- Tell the browser to be responsive to screen width -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="plugins/fontawesome-free/css/all.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- icheck bootstrap -->
  <link rel="stylesheet" href="plugins/icheck-bootstrap/icheck-bootstrap.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="dist/css/adminlte.min.css">
  <!-- Google Font: Source Sans Pro -->
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
</head>
<style>
    .loginestilo{    
    -ms-flex-align: center;
    align-items: center;
    background-image: url(dist/img/fondo.jpg);
    background-repeat: no-repeat;
    background-size: 100%;  
    display: -ms-flexbox;
    display: flex;
    height: 100vh;
    -ms-flex-pack: center;
    justify-content: center;}
    
    .transparente{
    background-color: rgba(0,0,0, 0.2);
    border-top: 0;
    color: #17a2b8;
    padding: 20px;
    }
</style>
<body class="hold-transition loginestilo">
<div class="login-box" style="margin-top: 150px">
  <div class="login-logo">
    <img src="dist/img/BMLogoHorizontal.png" width="100%" height="100%">
  </div>
  <!-- /.login-logo -->
  <div class="card">
    <div class="card-body transparente">
      <form th:action="@{/login}" method="post">
        <div class="input-group mb-3">
          <input type="text" class="form-control" placeholder="Correo electr&oacute;nico" name="email">
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-envelope"></span>
            </div>
          </div>
        </div>
        <div class="input-group mb-3">
          <input type="password" class="form-control" placeholder="Contrase&ntilde;a" name="password">
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-lock"></span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-4">
            <a th:href="@{/signup}" class="btn btn-info btn-block"><i class="fas fa-user-plus"></i></a>
          </div>
          <div class="col-4">
          </div>
          <!-- /.col -->
          <div class="col-4">
            <button type="submit" class="btn btn-info btn-block"><i class="fas fa-sign-in-alt"></i></button>
          </div>
          <!-- /.col -->
        </div>
      </form>
      
      
      <br>
      
    <div th:if="${param.status}" class="alert alert-warning" role="alert">
    	<center>
    		Para acceder confirma tu correo. <br>
			<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#ReenviarCorreo" data-whatever="@mdo">Reenv&iacute;ar Correo</button>
    	</center>
	</div>
	
    <div th:if="${param.token}" class="alert alert-info" role="alert">
    	<center>
    		Gracias por confirmar tu correo. <br>
    	</center>
	</div>
	
    <div th:if="${param.send}" class="alert alert-success" role="alert">
    	<center>
    		Hemos enviado un correo a la direcci√≥n proporcionada. <br>
    		No olvides revisar tu bandeja de spam.
    	</center>
	</div>
	
    <div th:if="${param.error}" class="alert alert-warning" role="alert">
    	<center>
    		El codigo se ha roto. <br>
			<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#ReenviarCorreo" data-whatever="@mdo">Reenv&iacute;ar Correo</button>
    	</center>
	</div>
	
    <div th:if="${param.null}" class="alert alert-warning" role="alert">
    	<center>
    		No existe un usuario con ese correo. <br>
    		Registrate.    	
    	</center>
	</div>
	
    <div th:if="${param.resend}" class="alert alert-success" role="alert">
    	<center>
    		Se ha enviado un nuevo correo. <br>
    		No olvides revisar tu bandeja de spam.    	
    	</center>
	</div>

    </div>
    <!-- /.login-card-body -->

  </div>
<!-- /.login-box -->

	<div th:if="${param.logout}" class="alert alert-success"
		role="alert">Has cerrado sesi&oacute;n con &eacute;xito.</div>
	</div>
<!--  Modal -->
<div class="modal fade" id="ReenviarCorreo" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Reenv&iacute;ar Correo de Confimaci&oacute;n</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form  action="/Reenviar_Correo" method="GET" th:modelAttribute="User">
      <div class="modal-body">
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Correo:</label>
            <input type="text" class="form-control" name="email">
          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        <button type="submit" class="btn btn-primary" >Enviar Correo</button>
      </div>
      </form>
    </div>
  </div>
</div>
<!-- Cierra Modal -->

<!-- jQuery -->
<script src="plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- AdminLTE App -->
<script src="dist/js/adminlte.min.js"></script>

</body>
</html>
